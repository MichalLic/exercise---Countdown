{"version":3,"sources":["timeout.js"],"names":["Timeout","DATE_VALUE","SET_INTERVAL","SET_TIME_GET_CL","$","DATE_GET_CL","DIFFERENCE_SECTION_CL","RESET_SECTION_CL","ERROR_MESSAGE_CL","FULL_DATE","init","setLocalTime","onSend","setCurrentTime","myDate","Date","currentTime","toLocaleTimeString","html","setInterval","on","e","preventDefault","getFormValue","fulldate","inputValid","show","setDifferenceInterval","disabledFields","onReset","clearInterval","hide","resetForm","activeField","element","addClass","removeClass","form","serializeArray","dataValue","map","item","name","value","getFormDate","currentDate","fullDate","fullDateSplit","split","getMonth","parseInt","dateStop","hour","minute","difference","Math","abs","getTime","getTextarea","event","secDifference","textareaValue","durationEvent","days","floor","hours","minutes","seconds","formatDate","dayLabel","hourLabel","minuteLabel","secondLabel","find","remove","append","isEmptyField","fieldValue","alert","length","input","attr","reset","document","ready"],"mappings":"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","file":"app.js","sourcesContent":["var Timeout = {\r\n    //variables\r\n    DATE_VALUE: '',\r\n    SET_INTERVAL: '',\r\n    SET_TIME_GET_CL: $('.set-time'),\r\n    DATE_GET_CL: $('.date'),\r\n    DIFFERENCE_SECTION_CL: '.difference-section',\r\n    RESET_SECTION_CL: '.reset-section',\r\n    ERROR_MESSAGE_CL: '.error-message',\r\n    FULL_DATE: '',\r\n\r\n    //init\r\n    init: function () {\r\n        Timeout.setLocalTime();\r\n        Timeout.onSend();\r\n    },\r\n\r\n    //function\r\n    setCurrentTime: function () {\r\n        var myDate = new Date();\r\n        var currentTime = myDate.toLocaleTimeString();\r\n        $('.current-time').html(currentTime);\r\n    },\r\n\r\n    setLocalTime: function () {\r\n        setInterval(function () {\r\n            Timeout.setCurrentTime()\r\n        }, 1000);\r\n    },\r\n\r\n    onSend: function () {\r\n        $('.btn-start').on('click', function (e) {\r\n            e.preventDefault();\r\n            Timeout.DATE_VALUE = Timeout.getFormValue(Timeout.SET_TIME_GET_CL);\r\n            Timeout.FULL_DATE = Timeout.DATE_VALUE.fulldate;\r\n            if (Timeout.inputValid(Timeout.getFormValue(Timeout.SET_TIME_GET_CL))) {\r\n                Timeout.show(Timeout.DIFFERENCE_SECTION_CL);\r\n                Timeout.setDifferenceInterval();\r\n                Timeout.disabledFields(Timeout.DATE_GET_CL);\r\n                Timeout.onReset();\r\n                Timeout.show(Timeout.RESET_SECTION_CL);\r\n            }\r\n        });\r\n    },\r\n\r\n    onReset: function () {\r\n        $('.clear').on('click', function (e) {\r\n            e.preventDefault();\r\n            Timeout.clearInterval();\r\n            Timeout.hide(Timeout.DIFFERENCE_SECTION_CL);\r\n            Timeout.hide(Timeout.RESET_SECTION_CL);\r\n            Timeout.resetForm(Timeout.SET_TIME_GET_CL);\r\n            Timeout.activeField(Timeout.DATE_GET_CL);\r\n        })\r\n    },\r\n\r\n    show: function (element) {\r\n        $(element).addClass('show');\r\n    },\r\n\r\n    hide: function (element) {\r\n        $(element).removeClass('show');\r\n    },\r\n\r\n    /**\r\n     * get data by map function\r\n     * @param form\r\n     * @returns {{}}\r\n     */\r\n    getFormValue: function (form) {\r\n        form = form.serializeArray();\r\n        var dataValue = {};\r\n        form.map(function (item) {\r\n            dataValue[item.name] = item.value;\r\n        });\r\n        return dataValue;\r\n    },\r\n\r\n    getFormDate: function () {\r\n        var currentDate = new Date();\r\n        var fullDate = Timeout.FULL_DATE;\r\n        var fullDateSplit = fullDate.split('-');\r\n        //JavaScript counts months from 0 to 11. January is 0. December is 11.\r\n        var getMonth = parseInt(fullDateSplit[1]) - 1;\r\n        var dateStop = new Date(fullDateSplit[0], getMonth, fullDateSplit[2], Timeout.DATE_VALUE.hour, Timeout.DATE_VALUE.minute);\r\n        var difference = Math.abs(dateStop.getTime() - currentDate.getTime());\r\n        var secDifference = difference / 1000;\r\n        var getTextarea = Timeout.DATE_VALUE;\r\n        var textareaValue = getTextarea.event;\r\n\r\n        return {\r\n            currentDate: new Date(),\r\n            fullDate: Timeout.FULL_DATE,\r\n            fullDateSplit: fullDate.split('-'),\r\n            getMonth: parseInt(fullDateSplit[1]) - 1,\r\n            dateStop: new Date(fullDateSplit[0], getMonth, fullDateSplit[2], Timeout.DATE_VALUE.hour, Timeout.DATE_VALUE.minute),\r\n            difference: Math.abs(dateStop.getTime() - currentDate.getTime()),\r\n            secDifference: difference / 1000,\r\n            getTextarea: Timeout.DATE_VALUE,\r\n            textareaValue: getTextarea.event\r\n        }\r\n    },\r\n\r\n    /*show time to designated event*/\r\n    durationEvent: function () {\r\n        var secDifference = Timeout.getFormDate().secDifference;\r\n        var textareaValue = Timeout.getFormDate().textareaValue;\r\n\r\n        var myDate = {\r\n            days: Math.floor(secDifference / 3600 / 24),\r\n            hours: Math.floor(secDifference / 3600 % 24),\r\n            minutes: Math.floor(secDifference / 60 % 60),\r\n            seconds: Math.floor(secDifference % 60)\r\n        };\r\n\r\n        var formatDate = {\r\n            dayLabel: (myDate.days > 1 ) ? ' days ' : ' day ',\r\n            hourLabel: (myDate.hours > 1) ? ' hours ' : ' hour ',\r\n            minuteLabel: (myDate.minutes > 1 ) ? ' minutes ' : ' minute ',\r\n            secondLabel: (myDate.seconds > 1) ? ' seconds ' : ' second '\r\n        };\r\n\r\n        if (myDate.days == 0 && myDate.hours == 0 && myDate.minutes == 0 && myDate.seconds == 0) {\r\n            Timeout.clearInterval();\r\n            $(Timeout.DIFFERENCE_SECTION_CL).find('.timeout').remove();\r\n            $(Timeout.DIFFERENCE_SECTION_CL).find('.container').append(\"It's time!\")\r\n        } else {\r\n            $('.event-remained').html('To designated ' + Timeout.isEmptyField(textareaValue) + ' remained:');\r\n            $('.remained').html(myDate.days + formatDate.dayLabel + myDate.hours + formatDate.hourLabel + myDate.minutes + formatDate.minuteLabel + myDate.seconds + formatDate.secondLabel);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * check text area and set value\r\n     * @param fieldValue\r\n     * @returns {*}\r\n     */\r\n    isEmptyField: function (fieldValue) {\r\n        if (fieldValue != '') {\r\n            return fieldValue;\r\n        } else {\r\n            return 'event';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * countdown time to designated event\r\n     */\r\n    setDifferenceInterval: function () {\r\n        Timeout.durationEvent();\r\n        Timeout.SET_INTERVAL = setInterval(function () {\r\n            Timeout.durationEvent();\r\n        }, 1000);\r\n    },\r\n\r\n    inputValid: function (form) {\r\n        if (Timeout.getFormDate().currentDate > Timeout.getFormDate().dateStop) {\r\n            $('input[name=fulldate]').addClass('error');\r\n            alert('That date passed!');\r\n            return false;\r\n        }\r\n        else if (form.fulldate.length == 0) {\r\n            $('input[name=fulldate]').addClass('error');\r\n            Timeout.show(Timeout.ERROR_MESSAGE_CL);\r\n            return false;\r\n        } else if (form.hour.length == 0) {\r\n            $('input[name=hour]').addClass('error');\r\n            Timeout.show(Timeout.ERROR_MESSAGE_CL);\r\n            return false;\r\n        } else if (form.hour > 23) {\r\n            $('input[name=hour]').addClass('error');\r\n            Timeout.show(Timeout.ERROR_MESSAGE_CL);\r\n            return false;\r\n        } else if (form.minute > 59) {\r\n            $('input[name=minute]').addClass('error');\r\n            Timeout.show(Timeout.ERROR_MESSAGE_CL);\r\n            return false;\r\n        } else if (form.minute.length == 0) {\r\n            $('input[name=minute]').addClass('error');\r\n            Timeout.show(Timeout.ERROR_MESSAGE_CL);\r\n            return false;\r\n        } else {\r\n            $('input').removeClass('error');\r\n            Timeout.hide(Timeout.ERROR_MESSAGE_CL);\r\n            return true;\r\n        }\r\n    },\r\n\r\n    disabledFields: function (input) {\r\n        input.attr('disabled', true);\r\n    },\r\n\r\n    activeField: function (input) {\r\n        input.attr('disabled', false);\r\n    },\r\n\r\n    resetForm: function (form) {\r\n        form[0].reset();\r\n    },\r\n\r\n    clearInterval: function () {\r\n        clearInterval(Timeout.SET_INTERVAL);\r\n    }\r\n\r\n};\r\n$(document).ready(function () {\r\n    Timeout.init();\r\n});"]}