{"version":3,"sources":["timeout.js"],"names":["Timeout","DATE_VALUE","SET_INTERVAL","SET_TIME_GET_CL","$","init","setLocalTime","onSetMax","onSend","setCurrentTime","myDate","Date","currentTime","toLocaleTimeString","html","setInterval","btn","on","event","preventDefault","inputValid","getFormValue","show","setDifferenceInterval","inactiveField","onReset","clearInterval","hide","resetForm","activeField","element","addClass","removeClass","form","serializeArray","dataValue","map","item","name","value","getFieldValue","section","field","find","val","durationEvent","currentDate","fullDateSplit","fulldate","split","getMonth","parseInt","dateStop","hour","minute","difference","Math","abs","getTime","secDifference","days","floor","hours","minutes","seconds","isEmptyField","fieldValue","input","attr","reset","max","this","document","ready"],"mappings":"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","file":"app.js","sourcesContent":["var Timeout = {\r\n    DATE_VALUE: '',\r\n    SET_INTERVAL: '',\r\n    SET_TIME_GET_CL: $('.set-time'),\r\n    //variables\r\n\r\n\r\n    //init\r\n    init: function () {\r\n        Timeout.setLocalTime();\r\n        Timeout.onSetMax();\r\n        Timeout.onSend($('.btn-start'));\r\n    },\r\n\r\n    //function\r\n    setCurrentTime: function () {\r\n        var myDate = new Date();\r\n        var currentTime = myDate.toLocaleTimeString();\r\n        $('.current-time').html(currentTime);\r\n    },\r\n\r\n    setLocalTime: function () {\r\n        setInterval(function () {\r\n            Timeout.setCurrentTime()\r\n        }, 1000);\r\n    },\r\n\r\n    onSend: function (btn) {\r\n        $(btn).on('click', function () {\r\n            event.preventDefault();\r\n            if (Timeout.inputValid(Timeout.getFormValue(Timeout.SET_TIME_GET_CL))) {\r\n                Timeout.DATE_VALUE = Timeout.getFormValue(Timeout.SET_TIME_GET_CL);\r\n                Timeout.show('.difference-section');\r\n                Timeout.setDifferenceInterval();\r\n                Timeout.inactiveField($('.date'));\r\n                Timeout.onReset($('.clear'));\r\n                Timeout.show('.reset-section')\r\n            }\r\n        });\r\n    },\r\n\r\n    onReset: function (btn) {\r\n        $(btn).on('click', function () {\r\n            event.preventDefault();\r\n            Timeout.clearInterval();\r\n            Timeout.hide('.difference-section, .reset-section');\r\n            Timeout.resetForm(Timeout.SET_TIME_GET_CL);\r\n            Timeout.activeField($('.date'));\r\n        })\r\n    },\r\n\r\n    show: function (element) {\r\n        $(element).addClass('show');\r\n    },\r\n\r\n    hide: function (element) {\r\n        $(element).removeClass('show');\r\n    },\r\n\r\n    getFormValue: function (form) {\r\n        form = form.serializeArray();\r\n        var dataValue = {};\r\n        var reformattedArray = form.map(function (item) {\r\n            dataValue[item.name] = item.value;\r\n        });\r\n        return dataValue;\r\n    },\r\n\r\n    getFieldValue: function (section, field) {\r\n        return section.find(field).val();\r\n    },\r\n\r\n    //show time to designated event\r\n    durationEvent: function () {\r\n        var currentDate = new Date();\r\n        var fullDateSplit = Timeout.DATE_VALUE.fulldate.split('-');\r\n        var getMonth = parseInt(fullDateSplit[1]) - 1;\r\n        var dateStop = new Date(fullDateSplit[0], getMonth, fullDateSplit[2], Timeout.DATE_VALUE.hour, Timeout.DATE_VALUE.minute);\r\n\r\n        var difference = Math.abs(dateStop.getTime() - currentDate.getTime());\r\n        var secDifference = difference / 1000;\r\n\r\n        var myDate = {\r\n            days: Math.floor(secDifference / 3600 / 24),\r\n            hours: Math.floor(secDifference / 3600 % 24),\r\n            minutes: Math.floor(secDifference / 60 % 60),\r\n            seconds: Math.floor(secDifference % 60)\r\n        };\r\n\r\n        $('.event-remained').html('To designated ' + Timeout.isEmptyField(Timeout.getFieldValue($('.set-time'), $('#event'))) + ' remained:');\r\n        $('.remained').html('Days: ' + myDate.days + ' Hours: ' + myDate.hours + ' Minutes: ' + myDate.minutes + ' Seconds: ' + myDate.seconds);\r\n    },\r\n\r\n    //check text area and set value\r\n    isEmptyField: function (fieldValue) {\r\n        if (fieldValue != '') {\r\n            return fieldValue;\r\n        } else {\r\n            return 'event';\r\n        }\r\n    },\r\n\r\n    //countdown time to designated event\r\n    setDifferenceInterval: function () {\r\n        Timeout.durationEvent();\r\n        Timeout.SET_INTERVAL = setInterval(function () {\r\n            Timeout.durationEvent();\r\n        }, 1000);\r\n    },\r\n\r\n    inputValid: function (form) {\r\n        if (form.fulldate == '' ||\r\n            form.hour == '' ||\r\n            form.hour > 23 ||\r\n            form.minute == '' ||\r\n            form.minute > 59) {\r\n            Timeout.show('.error-message');\r\n            return false;\r\n        } else {\r\n            Timeout.hide('.error-message');\r\n            return true;\r\n        }\r\n    },\r\n\r\n    inactiveField: function (input) {\r\n        input.attr('disabled', 'disabled');\r\n    },\r\n\r\n    activeField: function (input) {\r\n        input.attr('disabled', false)\r\n    },\r\n\r\n    resetForm: function (form) {\r\n        form[0].reset();\r\n    },\r\n\r\n    //set max value if field has bad filling\r\n    onSetMax: function () {\r\n        $('.date').on('input', function () {\r\n            var max = parseInt(this.max);\r\n            if (parseInt(this.value) > max) {\r\n                this.value = max;\r\n            }\r\n        });\r\n    },\r\n\r\n    clearInterval: function () {\r\n        clearInterval(Timeout.SET_INTERVAL);\r\n    }\r\n\r\n};\r\n$(document).ready(function () {\r\n    Timeout.init();\r\n});"]}